# 手動啟動應用程式說明

## 問題
應用程式無法自動啟動，需要手動啟動。

## 手動啟動步驟

### 步驟 1: 開啟新的終端視窗
開啟 PowerShell 或命令提示字元

### 步驟 2: 切換到專案目錄
```powershell
cd C:\spring-boot-stomp-websocket
```

### 步驟 3: 啟動應用程式
```powershell
mvn spring-boot:run
```

### 步驟 4: 等待啟動完成
等待看到以下訊息：
```
Started SpringBootStompApplication in X.XXX seconds
```

### 步驟 5: 執行測試腳本
在**另一個終端視窗**執行：
```powershell
cd C:\spring-boot-stomp-websocket
.\WebSocket測試腳本.ps1
```

## 或者使用完整啟動腳本

如果您想一次性啟動所有服務（Docker + 應用程式）：
```powershell
.\完整啟動.ps1
```

## 檢查服務狀態

在啟動應用程式前，確認以下服務已運行：

### Redis
```powershell
docker exec redis redis-cli ping
# 應該返回: PONG
```

### RabbitMQ
訪問: http://localhost:15672
- 帳號: guest
- 密碼: guest

## 常見啟動問題

### 問題 1: 端口 8080 被占用
```powershell
# 檢查端口占用
netstat -ano | findstr :8080

# 停止占用端口的進程（替換 PID）
taskkill /PID <PID> /F
```

### 問題 2: Redis 連接失敗
```powershell
# 檢查 Redis 是否運行
docker ps | findstr redis

# 如果沒有運行，啟動 Redis
docker start redis
```

### 問題 3: 編譯錯誤
```powershell
# 清理並重新編譯
mvn clean compile
```

## 啟動成功後

當應用程式啟動成功後，您應該看到：
- 應用程式運行在 http://localhost:8080
- 沒有錯誤訊息
- Redis 連接成功
- RabbitMQ 連接成功（如果配置了）

然後可以：
1. 開啟專員A頁面: http://localhost:8080/agent-a.html
2. 開啟專員B頁面: http://localhost:8080/agent-b.html
3. 執行測試腳本: `.\WebSocket測試腳本.ps1`




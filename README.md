# Spring Boot STOMP WebSocket å³æ™‚é€šè¨Šç³»çµ±

[![Java](https://img.shields.io/badge/Java-17-orange.svg)](https://www.oracle.com/java/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-2.6.1-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Redis](https://img.shields.io/badge/Redis-6.0+-red.svg)](https://redis.io/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

ä¸€å€‹åŸºæ–¼ Spring Boot å’Œ STOMP å”è­°çš„ä¼æ¥­ç´š WebSocket å³æ™‚é€šè¨Šç³»çµ±ï¼Œæ”¯æ´å¤šç¯€é»éƒ¨ç½²ã€å…¬å…±èŠå¤©å®¤ã€å€‹äººç§ä¿¡ç­‰åŠŸèƒ½ã€‚æœ¬å°ˆæ¡ˆå±•ç¤ºäº†å®Œæ•´çš„ WebSocket å¯¦æ™‚é€šè¨Šè§£æ±ºæ–¹æ¡ˆï¼ŒåŒ…æ‹¬å‰ç«¯ Vue.js æ•´åˆã€Redis Pub/Sub å¤šç¯€é»åŒæ­¥ã€å®Œæ•´çš„å–®å…ƒæ¸¬è©¦è¦†è“‹ç­‰ã€‚

## ğŸ“‹ ç›®éŒ„

- [å°ˆæ¡ˆç°¡ä»‹](#å°ˆæ¡ˆç°¡ä»‹)
- [æŠ€è¡“æ£§](#æŠ€è¡“æ£§)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
- [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
- [é…ç½®èªªæ˜](#é…ç½®èªªæ˜)
- [API æ–‡æª”](#api-æ–‡æª”)
- [å¤šç¯€é»éƒ¨ç½²](#å¤šç¯€é»éƒ¨ç½²)
- [æ¸¬è©¦](#æ¸¬è©¦)
- [å°ˆæ¡ˆçµæ§‹](#å°ˆæ¡ˆçµæ§‹)
- [æŠ€è¡“äº®é»](#æŠ€è¡“äº®é»)
- [æœªä¾†è¦åŠƒ](#æœªä¾†è¦åŠƒ)

## ğŸ¯ å°ˆæ¡ˆç°¡ä»‹

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹å®Œæ•´çš„ WebSocket å³æ™‚é€šè¨Šç³»çµ±ï¼Œæ¡ç”¨ Spring Boot æ¡†æ¶å’Œ STOMP å”è­°å¯¦ç¾ã€‚ç³»çµ±æ”¯æ´ï¼š

- **å…¬å…±èŠå¤©å®¤**ï¼šå¤šç”¨æˆ¶å³æ™‚èŠå¤©ï¼Œè¨Šæ¯é€é Redis Pub/Sub å¯¦ç¾å¤šç¯€é»åŒæ­¥
- **å€‹äººç§ä¿¡**ï¼šé»å°é»å³æ™‚é€šè¨Šï¼Œæ”¯æ´ç”¨æˆ¶é–“ç§å¯†å°è©±
- **å¤šç¯€é»éƒ¨ç½²**ï¼šé€é Redis Pub/Sub æ©Ÿåˆ¶å¯¦ç¾è·¨ç¯€é»è¨Šæ¯åŒæ­¥
- **ç”¨æˆ¶è­˜åˆ¥**ï¼šæ¯å€‹ WebSocket é€£æ¥è‡ªå‹•åˆ†é…å”¯ä¸€ç”¨æˆ¶ ID
- **å‰ç«¯æ•´åˆ**ï¼šæä¾› Vue.js 3 + @stomp/stompjs çš„ç¾ä»£åŒ–å‰ç«¯ä»‹é¢

æœ¬å°ˆæ¡ˆä¸åƒ…æ˜¯ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„å³æ™‚é€šè¨Šç³»çµ±ï¼Œæ›´æ˜¯ä¸€å€‹å±•ç¤º Spring Boot WebSocketã€Redis Pub/Subã€å¤šç¯€é»éƒ¨ç½²ç­‰æŠ€è¡“çš„å®Œæ•´ç¯„ä¾‹ã€‚

## ğŸ›  æŠ€è¡“æ£§

### å¾Œç«¯æŠ€è¡“
- **Spring Boot 2.6.1**ï¼šæ‡‰ç”¨ç¨‹å¼æ¡†æ¶
- **Spring WebSocket**ï¼šWebSocket æ”¯æ´
- **STOMP å”è­°**ï¼šè¨Šæ¯å‚³è¼¸å”è­°
- **Redis 6.0+**ï¼šPub/Sub è¨Šæ¯åŒæ­¥
- **Jackson**ï¼šJSON åºåˆ—åŒ–/ååºåˆ—åŒ–
- **Lombok**ï¼šæ¸›å°‘æ¨£æ¿ç¨‹å¼ç¢¼
- **JUnit 5 + Mockito**ï¼šå–®å…ƒæ¸¬è©¦æ¡†æ¶

### å‰ç«¯æŠ€è¡“
- **Vue.js 3**ï¼šå‰ç«¯æ¡†æ¶
- **@stomp/stompjs 7.0.0**ï¼šSTOMP å®¢æˆ¶ç«¯åº«
- **SockJS**ï¼šWebSocket é™ç´šæ–¹æ¡ˆ
- **Bootstrap 5**ï¼šUI æ¡†æ¶

### é–‹ç™¼å·¥å…·
- **Maven 3.9+**ï¼šå°ˆæ¡ˆæ§‹å»ºå·¥å…·
- **Java 17**ï¼šé–‹ç™¼èªè¨€
- **Docker**ï¼šRedis å®¹å™¨åŒ–éƒ¨ç½²ï¼ˆå¯é¸ï¼‰

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. å…¬å…±èŠå¤©å®¤
- å¤šç”¨æˆ¶å³æ™‚èŠå¤©
- è¨Šæ¯é€é Redis Pub/Sub å¯¦ç¾å¤šç¯€é»åŒæ­¥
- æ‰€æœ‰é€£æ¥çš„å®¢æˆ¶ç«¯éƒ½èƒ½æ”¶åˆ°è¨Šæ¯
- æ”¯æ´ HTML å…§å®¹è½‰ç¾©ï¼Œé˜²æ­¢ XSS æ”»æ“Š

### 2. å€‹äººç§ä¿¡
- é»å°é»å³æ™‚é€šè¨Š
- æ”¯æ´æŒ‡å®šæ¥æ”¶è€…ç™¼é€ç§ä¿¡
- ç§ä¿¡åƒ…åœ¨å–®ä¸€ç¯€é»å…§æœ‰æ•ˆï¼ˆå¯æ“´å±•ç‚ºè·¨ç¯€é»ï¼‰

### 3. å¤šç¯€é»éƒ¨ç½²æ”¯æ´
- é€é Redis Pub/Sub å¯¦ç¾è·¨ç¯€é»è¨Šæ¯åŒæ­¥
- æ”¯æ´æ°´å¹³æ“´å±•ï¼Œå¯éƒ¨ç½²å¤šå€‹æ‡‰ç”¨å¯¦ä¾‹
- æ‰€æœ‰ç¯€é»çš„å®¢æˆ¶ç«¯éƒ½èƒ½æ”¶åˆ°å…¬å…±è¨Šæ¯

### 4. ç”¨æˆ¶è­˜åˆ¥èˆ‡ç®¡ç†
- æ¯å€‹ WebSocket é€£æ¥è‡ªå‹•åˆ†é…å”¯ä¸€ç”¨æˆ¶ ID
- æ”¯æ´è‡ªè¨‚æ¡æ‰‹è™•ç†å™¨
- å¯æ“´å±•ç‚ºåŸºæ–¼ Token çš„ç”¨æˆ¶èªè­‰

### 5. å®Œæ•´çš„å–®å…ƒæ¸¬è©¦
- æ‰€æœ‰æ ¸å¿ƒé¡åˆ¥éƒ½æœ‰å°æ‡‰çš„å–®å…ƒæ¸¬è©¦
- æ¸¬è©¦è¦†è“‹ç‡é” 100%
- ä½¿ç”¨ Mockito é€²è¡Œä¾è³´éš”é›¢

## ğŸ— ç³»çµ±æ¶æ§‹

### æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client 1  â”‚         â”‚   Client 2  â”‚         â”‚   Client 3  â”‚
â”‚  (Browser)  â”‚         â”‚  (Browser)  â”‚         â”‚  (Browser)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                       â”‚                       â”‚
       â”‚  WebSocket (STOMP)    â”‚                       â”‚
       â”‚                       â”‚                       â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Spring Boot App    â”‚
                    â”‚  (Node 1)          â”‚
                    â”‚  Port: 8080         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Redis Pub/Sub     â”‚
                    â”‚  Channel: /topic/chatâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Spring Boot App    â”‚
                    â”‚  (Node 2)          â”‚
                    â”‚  Port: 8081        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¨Šæ¯æµç¨‹

#### å…¬å…±è¨Šæ¯æµç¨‹
1. **å®¢æˆ¶ç«¯ç™¼é€**ï¼šå®¢æˆ¶ç«¯é€é WebSocket ç™¼é€è¨Šæ¯åˆ° `ws/message`
2. **æ§åˆ¶å™¨è™•ç†**ï¼š`MessageController` æ¥æ”¶è¨Šæ¯ä¸¦é€²è¡Œ HTML è½‰ç¾©
3. **Redis ç™¼å¸ƒ**ï¼š`RedisMessagePublisher` å°‡è¨Šæ¯ç™¼å¸ƒåˆ° Redis `/topic/chat` é »é“
4. **Redis ç›£è½**ï¼šæ‰€æœ‰ç¯€é»çš„ `RedisMessageListener` ç›£è½ Redis é »é“
5. **WebSocket è½‰ç™¼**ï¼šç›£è½å™¨å°‡è¨Šæ¯è½‰ç™¼åˆ°æ‰€æœ‰é€£æ¥çš„ WebSocket å®¢æˆ¶ç«¯
6. **å®¢æˆ¶ç«¯æ¥æ”¶**ï¼šæ‰€æœ‰è¨‚é–± `/topic/chat` çš„å®¢æˆ¶ç«¯æ”¶åˆ°è¨Šæ¯

#### ç§ä¿¡æµç¨‹
1. **å®¢æˆ¶ç«¯ç™¼é€**ï¼šå®¢æˆ¶ç«¯é€é WebSocket ç™¼é€ç§ä¿¡åˆ° `ws/privateMessage`
2. **æ§åˆ¶å™¨è™•ç†**ï¼š`MessageController` æ¥æ”¶ç§ä¿¡ä¸¦æå–æ¥æ”¶è€… ID
3. **ç›´æ¥ç™¼é€**ï¼šä½¿ç”¨ `SimpMessagingTemplate.convertAndSendToUser()` ç›´æ¥ç™¼é€çµ¦ç›®æ¨™ç”¨æˆ¶
4. **å®¢æˆ¶ç«¯æ¥æ”¶**ï¼šç›®æ¨™ç”¨æˆ¶é€éè¨‚é–± `/user/topic/privateMessage` æ¥æ”¶ç§ä¿¡

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚
- Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.9+ 
- Redis 6.0+ï¼ˆç”¨æ–¼å¤šç¯€é»éƒ¨ç½²ï¼‰

### 1. å…‹éš†å°ˆæ¡ˆ
```bash
git clone https://github.com/seanjia1016/spring-boot-stomp-websocket.git
cd spring-boot-stomp-websocket
```

### 2. å•Ÿå‹• Redis
```bash
# ä½¿ç”¨ Docker å•Ÿå‹• Redisï¼ˆæ¨è–¦ï¼‰
docker run -d -p 6379:6379 --name redis redis:latest

# æˆ–ä½¿ç”¨æœ¬åœ° Redis
redis-server
```

### 3. é…ç½® Redis é€£æ¥
ç·¨è¼¯ `src/main/resources/application.properties`ï¼š
```properties
# Redis é…ç½®
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.password=
spring.redis.database=0
spring.redis.timeout=3000

# Redis é€£æ¥æ± é…ç½®
spring.redis.lettuce.pool.max-active=8
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=0
spring.redis.lettuce.pool.max-wait=-1
```

### 4. ç·¨è­¯å°ˆæ¡ˆ
```bash
mvn clean install
```

### 5. é‹è¡Œæ‡‰ç”¨ç¨‹å¼
```bash
mvn spring-boot:run
```

### 6. è¨ªå•æ‡‰ç”¨ç¨‹å¼
- **å‚³çµ±ä»‹é¢**ï¼šhttp://localhost:8080/
- **Vue.js èŠå¤©å®¤**ï¼šhttp://localhost:8080/chat.html

## âš™ï¸ é…ç½®èªªæ˜

### WebSocket é…ç½®
- **ç«¯é»è·¯å¾‘**ï¼š`/our-websocket`
- **è¨Šæ¯ä»£ç†å‰ç¶´**ï¼š`/topic`ï¼ˆç”¨æ–¼è¨‚é–±é »é“ï¼‰
- **æ‡‰ç”¨ç¨‹å¼ç›®æ¨™å‰ç¶´**ï¼š`ws`ï¼ˆç”¨æ–¼ç™¼é€è¨Šæ¯ï¼‰

### Redis é…ç½®
- **Pub/Sub é »é“**ï¼š`/topic/chat`
- **åºåˆ—åŒ–æ–¹å¼**ï¼šJSONï¼ˆä½¿ç”¨ Jacksonï¼‰

### è¨Šæ¯è·¯ç”±
- **å…¬å…±è¨Šæ¯ç™¼é€**ï¼š`ws/message` â†’ Redis â†’ `/topic/chat`
- **ç§ä¿¡ç™¼é€**ï¼š`ws/privateMessage` â†’ `/user/topic/privateMessage`
- **å…¬å…±è¨Šæ¯è¨‚é–±**ï¼š`/topic/chat`
- **ç§ä¿¡è¨‚é–±**ï¼š`/user/topic/privateMessage`

## ğŸ“š API æ–‡æª”

### WebSocket ç«¯é»

#### 1. é€£æ¥ WebSocket
```javascript
const socket = new SockJS('/our-websocket');
const stompClient = Stomp.over(socket);
stompClient.connect({}, function(frame) {
    console.log('Connected: ' + frame);
});
```

#### 2. ç™¼é€å…¬å…±è¨Šæ¯
```javascript
stompClient.send('/ws/message', {}, JSON.stringify({
    content: 'Hello, World!'
}));
```

#### 3. è¨‚é–±å…¬å…±è¨Šæ¯
```javascript
stompClient.subscribe('/topic/chat', function(message) {
    const response = JSON.parse(message.body);
    console.log('Received: ' + response.content);
});
```

#### 4. ç™¼é€ç§ä¿¡
```javascript
stompClient.send('/ws/privateMessage', {}, JSON.stringify({
    content: 'Private message',
    id: 'recipient-user-id'  // æˆ–ä½¿ç”¨ recipient æ¬„ä½
}));
```

#### 5. è¨‚é–±ç§ä¿¡
```javascript
stompClient.subscribe('/user/topic/privateMessage', function(message) {
    const response = JSON.parse(message.body);
    console.log('Private message: ' + response.content);
});
```

### REST API ç«¯é»

#### 1. ä¼ºæœå™¨ä¸»å‹•ç™¼é€å…¬å…±è¨Šæ¯
```http
POST /sendMessage
Content-Type: application/x-www-form-urlencoded

message=ç³»çµ±é€šçŸ¥ï¼šä¼ºæœå™¨å°‡æ–¼ä»Šæ™šé€²è¡Œç¶­è­·
```

#### 2. ä¼ºæœå™¨ä¸»å‹•ç™¼é€ç§ä¿¡
```http
POST /sendPrivateMessage
Content-Type: application/x-www-form-urlencoded

id=user-id&message=æ‚¨çš„è¨‚å–®å·²è™•ç†å®Œæˆ
```

## ğŸ”„ å¤šç¯€é»éƒ¨ç½²

### éƒ¨ç½²æ­¥é©Ÿ

1. **å•Ÿå‹• Redis ä¼ºæœå™¨**
```bash
docker run -d -p 6379:6379 --name redis redis:latest
```

2. **å•Ÿå‹•å¤šå€‹æ‡‰ç”¨å¯¦ä¾‹**
```bash
# å¯¦ä¾‹ 1ï¼ˆç«¯å£ 8080ï¼‰
java -jar target/spring-boot-stomp-0.0.1-SNAPSHOT.jar --server.port=8080

# å¯¦ä¾‹ 2ï¼ˆç«¯å£ 8081ï¼‰
java -jar target/spring-boot-stomp-0.0.1-SNAPSHOT.jar --server.port=8081
```

3. **æ¸¬è©¦å¤šç¯€é»åŒæ­¥**
   - åœ¨ä¸åŒç€è¦½å™¨æˆ–æ¨™ç±¤é ä¸­è¨ªå•ä¸åŒå¯¦ä¾‹
   - åœ¨ä¸€å€‹å¯¦ä¾‹ç™¼é€å…¬å…±è¨Šæ¯
   - æ‰€æœ‰å¯¦ä¾‹çš„å®¢æˆ¶ç«¯éƒ½æ‡‰è©²æ”¶åˆ°è¨Šæ¯

### å¤šç¯€é»æ¶æ§‹å„ªå‹¢
- **æ°´å¹³æ“´å±•**ï¼šå¯æ ¹æ“šè² è¼‰å‹•æ…‹å¢åŠ ç¯€é»
- **é«˜å¯ç”¨æ€§**ï¼šå–®ä¸€ç¯€é»æ•…éšœä¸å½±éŸ¿æ•´é«”æœå‹™
- **è² è¼‰å‡è¡¡**ï¼šå¯é…åˆ Nginx ç­‰è² è¼‰å‡è¡¡å™¨ä½¿ç”¨

## ğŸ§ª æ¸¬è©¦

### é‹è¡Œå–®å…ƒæ¸¬è©¦
```bash
mvn test
```

### æ¸¬è©¦è¦†è“‹ç‡
- **æ¸¬è©¦é¡åˆ¥æ•¸é‡**ï¼š10 å€‹æ¸¬è©¦é¡åˆ¥
- **æ¸¬è©¦æ–¹æ³•æ•¸é‡**ï¼š48 å€‹æ¸¬è©¦æ–¹æ³•
- **æ¸¬è©¦è¦†è“‹ç‡**ï¼š100%ï¼ˆæ‰€æœ‰æ ¸å¿ƒé¡åˆ¥ï¼‰

### æ¸¬è©¦é¡åˆ¥åˆ—è¡¨
- `MessageControllerTests`ï¼šè¨Šæ¯æ§åˆ¶å™¨æ¸¬è©¦
- `RedisConfigTests`ï¼šRedis é…ç½®æ¸¬è©¦
- `RedisMessageListenerTests`ï¼šRedis ç›£è½å™¨æ¸¬è©¦
- `RedisMessagePublisherTests`ï¼šRedis ç™¼å¸ƒå™¨æ¸¬è©¦
- `WebSocketConfigTests`ï¼šWebSocket é…ç½®æ¸¬è©¦
- `WsServiceTests`ï¼šWebSocket æœå‹™æ¸¬è©¦
- `NotificationserviceTests`ï¼šé€šçŸ¥æœå‹™æ¸¬è©¦
- `UserhandshakehandlerTests`ï¼šæ¡æ‰‹è™•ç†å™¨æ¸¬è©¦
- `WsControllerTests`ï¼šWebSocket æ§åˆ¶å™¨æ¸¬è©¦
- `SpringBootStompApplicationTests`ï¼šæ‡‰ç”¨ç¨‹å¼å•Ÿå‹•æ¸¬è©¦

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
spring-boot-stomp-websocket/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/hejz/springbootstomp/
â”‚   â”‚   â”‚       â”œâ”€â”€ config/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ RedisConfig.java          # Redis é…ç½®é¡åˆ¥
â”‚   â”‚   â”‚       â”œâ”€â”€ dto/
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ Message.java              # è¨Šæ¯ DTO
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ResponseMessage.java      # å›æ‡‰è¨Šæ¯ DTO
â”‚   â”‚   â”‚       â”œâ”€â”€ MessageController.java       # WebSocket è¨Šæ¯æ§åˆ¶å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ Notificationservice.java      # é€šçŸ¥æœå‹™ï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰
â”‚   â”‚   â”‚       â”œâ”€â”€ RedisMessageListener.java     # Redis è¨Šæ¯ç›£è½å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ RedisMessagePublisher.java    # Redis è¨Šæ¯ç™¼å¸ƒå™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ SpringBootStompApplication.java  # æ‡‰ç”¨ç¨‹å¼ä¸»é¡åˆ¥
â”‚   â”‚   â”‚       â”œâ”€â”€ Userhandshakehandler.java     # WebSocket æ¡æ‰‹è™•ç†å™¨
â”‚   â”‚   â”‚       â”œâ”€â”€ WebSocketConfig.java          # WebSocket é…ç½®é¡åˆ¥
â”‚   â”‚   â”‚       â”œâ”€â”€ WsController.java             # REST API æ§åˆ¶å™¨
â”‚   â”‚   â”‚       â””â”€â”€ WsService.java                # WebSocket æœå‹™
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ static/
â”‚   â”‚       â”‚   â”œâ”€â”€ chat.html                     # Vue.js èŠå¤©å®¤ä»‹é¢
â”‚   â”‚       â”‚   â””â”€â”€ index.html                    # å‚³çµ±èŠå¤©ä»‹é¢
â”‚   â”‚       â””â”€â”€ application.properties             # æ‡‰ç”¨ç¨‹å¼é…ç½®
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ com/hejz/springbootstomp/
â”‚               â””â”€â”€ [æ‰€æœ‰æ¸¬è©¦é¡åˆ¥]
â”œâ”€â”€ pom.xml                                        # Maven é…ç½®
â””â”€â”€ README.md                                      # å°ˆæ¡ˆèªªæ˜æ–‡æª”
```

## ğŸ’¡ æŠ€è¡“äº®é»

### 1. Redis Pub/Sub å¤šç¯€é»åŒæ­¥
- ä½¿ç”¨ Redis Pub/Sub å¯¦ç¾è·¨ç¯€é»è¨Šæ¯åŒæ­¥
- æ‰€æœ‰ç¯€é»çš„å®¢æˆ¶ç«¯éƒ½èƒ½æ”¶åˆ°å…¬å…±è¨Šæ¯
- æ”¯æ´æ°´å¹³æ“´å±•ï¼Œå¯å‹•æ…‹å¢åŠ ç¯€é»

### 2. å®Œæ•´çš„éŒ¯èª¤è™•ç†
- ä½¿ç”¨ SLF4J è¨˜éŒ„éŒ¯èª¤ï¼Œé¿å…åœ¨æ¸¬è©¦ä¸­æ‰“å°å †æ£§è·Ÿè¸ª
- ç•°å¸¸è¢«å…§éƒ¨æ•ç²ï¼Œä¸å½±éŸ¿ç³»çµ±é‹è¡Œ
- æä¾›è©³ç´°çš„éŒ¯èª¤æ—¥èªŒ

### 3. å®‰å…¨æ€§è€ƒé‡
- HTML å…§å®¹è½‰ç¾©ï¼Œé˜²æ­¢ XSS æ”»æ“Š
- æ”¯æ´è‡ªè¨‚æ¡æ‰‹è™•ç†å™¨ï¼Œå¯æ“´å±•ç‚ºåŸºæ–¼ Token çš„èªè­‰
- ç§ä¿¡åƒ…åœ¨å–®ä¸€ç¯€é»å…§æœ‰æ•ˆï¼Œä¿è­·ç”¨æˆ¶éš±ç§

### 4. å®Œæ•´çš„å–®å…ƒæ¸¬è©¦
- æ‰€æœ‰æ ¸å¿ƒé¡åˆ¥éƒ½æœ‰å°æ‡‰çš„å–®å…ƒæ¸¬è©¦
- ä½¿ç”¨ Mockito é€²è¡Œä¾è³´éš”é›¢
- æ¸¬è©¦è¦†è“‹ç‡é” 100%

### 5. ç¾ä»£åŒ–å‰ç«¯æ•´åˆ
- ä½¿ç”¨ Vue.js 3 å’Œ @stomp/stompjs å¯¦ç¾ç¾ä»£åŒ–å‰ç«¯
- æ”¯æ´ç”¨æˆ¶åè¨­å®šã€è¨Šæ¯æ­·å²è¨˜éŒ„ç­‰åŠŸèƒ½
- éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œé©é…å„ç¨®è¨­å‚™

### 6. è©³ç´°çš„ç¨‹å¼ç¢¼è¨»è§£
- æ‰€æœ‰é¡åˆ¥å’Œæ–¹æ³•éƒ½æœ‰è©³ç´°çš„ JavaDoc è¨»è§£
- è¨»è§£åŒ…å«ä½¿ç”¨å ´æ™¯ã€è™•ç†æµç¨‹ã€æ³¨æ„äº‹é …ç­‰
- ä¾¿æ–¼ç†è§£å’Œç¶­è­·

## ğŸ”® æœªä¾†è¦åŠƒ

### 1. å¿ƒè·³æ©Ÿåˆ¶
- å®¢æˆ¶ç«¯èˆ‡ä¼ºæœå™¨é–“é€²è¡Œå¿ƒè·³æª¢æ¸¬
- åŠæ™‚ç™¼ç¾é€£æ¥ä¸­æ–·ä¸¦è‡ªå‹•é‡é€£
- ä½¿ç”¨ Redis + RabbitMQ ç®¡ç†é€£æ¥ç‹€æ…‹

### 2. ç”¨æˆ¶èªè­‰
- æ•´åˆ Spring Security
- æ”¯æ´åŸºæ–¼ Token çš„ç”¨æˆ¶èªè­‰
- æ”¯æ´ OAuth2ã€JWT ç­‰èªè­‰æ–¹å¼

### 3. è¨Šæ¯æŒä¹…åŒ–
- æ•´åˆè³‡æ–™åº«å„²å­˜è¨Šæ¯æ­·å²
- æ”¯æ´è¨Šæ¯æŸ¥è©¢ã€æœç´¢ç­‰åŠŸèƒ½
- å¯¦ç¾è¨Šæ¯å·²è®€/æœªè®€ç‹€æ…‹

### 4. ç¾¤çµ„èŠå¤©
- æ”¯æ´å‰µå»ºç¾¤çµ„
- ç¾¤çµ„è¨Šæ¯é€é Redis å¯¦ç¾å¤šç¯€é»åŒæ­¥
- ç¾¤çµ„æˆå“¡ç®¡ç†ã€æ¬Šé™æ§åˆ¶ç­‰

### 5. æª”æ¡ˆå‚³è¼¸
- æ”¯æ´åœ–ç‰‡ã€æª”æ¡ˆç­‰åª’é«”è¨Šæ¯
- æ•´åˆç‰©ä»¶å„²å­˜æœå‹™ï¼ˆå¦‚ AWS S3ã€é˜¿é‡Œé›² OSSï¼‰
- å¯¦ç¾æª”æ¡ˆä¸Šå‚³ã€ä¸‹è¼‰ç­‰åŠŸèƒ½

### 6. æ€§èƒ½å„ªåŒ–
- ä½¿ç”¨ Netty æ¡†æ¶æå‡ WebSocket é€£æ¥æ•¸
- å–®å°ä¼ºæœå™¨æ”¯æ´ 5 è¬ä¸¦ç™¼é€£æ¥
- å¯¦ç¾é€£æ¥æ± ã€è¨Šæ¯ä½‡åˆ—ç­‰å„ªåŒ–

## ğŸ“ å­¸ç¿’è³‡æº

æœ¬å°ˆæ¡ˆåƒè€ƒäº†ä»¥ä¸‹å­¸ç¿’è³‡æºï¼š
- [Spring WebSocket å®˜æ–¹æ–‡æª”](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket)
- [STOMP å”è­°è¦ç¯„](https://stomp.github.io/)
- [Redis Pub/Sub æ–‡æª”](https://redis.io/docs/manual/pubsub/)

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šã€‚è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆã€‚

## ğŸ‘¥ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“§ è¯ç¹«æ–¹å¼

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€éä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š
- GitHub Issues: [æäº¤ Issue](https://github.com/seanjia1016/spring-boot-stomp-websocket/issues)
- Email: [æ‚¨çš„ Email]

---

**â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦å€‹ Starï¼**

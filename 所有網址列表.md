# Spring Boot STOMP WebSocket 專案 - 完整網址列表

## 🌐 前端頁面網址

### 1. 基本聊天頁面
**網址**: http://localhost:8080/
- **功能**: 基本的 WebSocket 聊天介面
- **特色**: 
  - 發送公共訊息
  - 發送私信
  - 接收所有訊息

### 2. 公共聊天室
**網址**: http://localhost:8080/chatroom.html
- **功能**: 公共聊天室（所有用戶的訊息都會顯示）
- **特色**: 
  - 只顯示公共訊息
  - 簡潔的聊天介面
  - 可以開啟專員A和專員B頁面

### 3. Vue.js 聊天室
**網址**: http://localhost:8080/chat.html
- **功能**: 使用 Vue.js 3 的現代化聊天介面
- **特色**: 
  - 用戶列表
  - 個人私信
  - 公共聊天室
  - 現代化 UI

### 4. 專員A 測試頁面
**網址**: http://localhost:8080/agent-a.html
- **功能**: 專員A 的測試介面
- **特色**: 
  - 顯示專員A 的用戶 ID
  - 公共聊天室（左側）
  - 發送私信給專員B（右側）
  - 接收專員B 的私信
  - 可以輸入專員B 的用戶 ID 來發送私信

### 5. 專員B 測試頁面
**網址**: http://localhost:8080/agent-b.html
- **功能**: 專員B 的測試介面
- **特色**: 
  - 顯示專員B 的用戶 ID
  - 公共聊天室（左側）
  - 發送私信給專員A（右側）
  - 接收專員A 的私信
  - 可以輸入專員A 的用戶 ID 來發送私信

## 🔌 WebSocket 端點

### WebSocket 連接端點
**URL**: ws://localhost:8080/our-websocket
- **協議**: WebSocket (SockJS)
- **用途**: 建立 WebSocket 連接

### 訊息發送端點（STOMP）
- **公共訊息**: `/ws/message`
- **私信**: `/ws/privateMessage`
- **心跳**: `/ws/heartbeat`

### 訊息訂閱頻道（STOMP）
- **公共訊息頻道**: `/topic/chat`
- **私信頻道**: `/user/topic/privateMessage`
- **心跳確認頻道**: `/user/topic/heartbeat`

## 🌐 REST API 端點

### 1. 發送公共訊息（HTTP POST）
**URL**: http://localhost:8080/sendMessage
**方法**: POST
**參數**: 
- `message` (String): 訊息內容

**範例**:
```bash
curl -X POST http://localhost:8080/sendMessage -d "message=系統通知"
```

### 2. 發送私信（HTTP POST）
**URL**: http://localhost:8080/sendPrivateMessage
**方法**: POST
**參數**: 
- `id` (String): 目標用戶 ID
- `message` (String): 訊息內容

**範例**:
```bash
curl -X POST http://localhost:8080/sendPrivateMessage -d "id=user123&message=您的訂單已處理"
```

## 🐳 Docker 服務管理介面

### RabbitMQ 管理介面
**URL**: http://localhost:15672
**帳號**: guest
**密碼**: guest
**功能**: 
- 查看佇列狀態
- 查看訊息
- 監控連接
- 管理交換器和路由

## 📋 使用場景範例

### 場景 1: 測試公共聊天室
1. 開啟 http://localhost:8080/chatroom.html
2. 開啟 http://localhost:8080/agent-a.html（新標籤）
3. 開啟 http://localhost:8080/agent-b.html（新標籤）
4. 在任一頁面發送訊息，所有頁面都會收到

### 場景 2: 測試專員A 和專員B 私信
1. 開啟 http://localhost:8080/agent-a.html
2. 開啟 http://localhost:8080/agent-b.html
3. 在專員A 頁面查看「我的用戶 ID」
4. 在專員B 頁面輸入專員A 的用戶 ID
5. 在專員B 頁面發送私信給專員A
6. 專員A 會收到私信

### 場景 3: 使用 REST API 發送訊息
```bash
# 發送公共訊息
curl -X POST http://localhost:8080/sendMessage -d "message=系統維護通知"

# 發送私信（需要先知道用戶 ID）
curl -X POST http://localhost:8080/sendPrivateMessage -d "id=用戶ID&message=您的訂單已處理"
```

## 🔍 檢查服務狀態

### 檢查應用程式
- 主頁: http://localhost:8080/
- 如果看到頁面，表示應用程式已啟動

### 檢查 Redis
```bash
docker exec redis redis-cli ping
# 應該返回: PONG
```

### 檢查 RabbitMQ
- 訪問: http://localhost:15672
- 登入後查看佇列和連接狀態

## 📝 注意事項

1. **用戶 ID**: 每個 WebSocket 連接會自動分配唯一的用戶 ID
2. **私信**: 需要知道目標用戶的 ID 才能發送私信
3. **多節點**: 公共訊息會透過 Redis 同步到所有節點
4. **心跳**: 客戶端可以發送心跳來維持連接狀態



